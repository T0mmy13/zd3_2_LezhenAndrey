{"blocks":[{"x":400,"y":-400,"text":"начало","width":100,"height":30,"type":"Начало / конец","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":190,"y":-220,"text":"onCreate","width":100,"height":40,"type":"Подпрограмма","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":580,"y":-150,"text":"val api = RetrofitInstance.api","width":180,"height":40,"type":"Блок","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":580,"y":-220,"text":"searchFilms","width":100,"height":40,"type":"Подпрограмма","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":120,"y":-120,"text":"super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_films)\r\n        titleTextView = findViewById(R.id.films_title)\r\n        titleTextView.text = \"Список фильмов\"\r\n        recyclerView = findViewById(R.id.films_recycler_view)\r\n        recyclerView.layoutManager = GridLayoutManager(this, 3)\r\n        searchFilms(\"movie\", \"avengers\")","width":400,"height":100,"type":"Блок","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":580,"y":-90,"text":"api.searchFilms(title, type).enqueue(object : Callback<FilmResponse>","width":460,"height":40,"type":"Блок","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":580,"y":-30,"text":"onResponse","width":100,"height":40,"type":"Подпрограмма","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":740,"y":100,"text":"val films = response.body()?.Search","width":240,"height":40,"type":"Блок","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":740,"y":160,"text":"!films.isNullOrEmpty()","width":180,"height":40,"type":"Условие","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":580,"y":40,"text":"response.isSuccessful","width":180,"height":60,"type":"Условие","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":390,"y":120,"text":"Log.d(\"MyLog\", \"Request failed: ${response.code()}\")","width":340,"height":40,"type":"Блок","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":600,"y":230,"text":"Log.d(\"MyLog\", \"Films not found\")","width":220,"height":40,"type":"Блок","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":680,"y":330,"text":"onFailure","width":100,"height":40,"type":"Подпрограмма","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":680,"y":390,"text":"Log.e(\"MyLog\", \"Error: \" + t.message)","width":260,"height":40,"type":"Блок","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":930,"y":230,"text":"adapter = FilmAdapter(films)\r\n                        recyclerView.adapter = adapter\r\n                        Log.d(\"MyLog\", \"Films loaded: ${films.size}\")","width":380,"height":60,"type":"Блок","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":1130,"y":-230,"text":"onCreateOptionsMenu","width":100,"height":40,"type":"Подпрограмма","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":1130,"y":-60,"text":"menuInflater.inflate(R.menu.main_menu, menu)\r\n        val searchItem = menu?.findItem(R.id.menu_search)\r\n        val searchView = searchItem?.actionView as? SearchView\r\n\r\n        searchView?.setOnQueryTextListener(object : SearchView.OnQueryTextListener {\r\n            override fun onQueryTextSubmit(query: String?): Boolean {\r\n                if (!query.isNullOrBlank()){\r\n                    searchFilms(\"movie\", query)\r\n                }\r\n                return true\r\n            }\r\n\r\n            override fun onQueryTextChange(newText: String?): Boolean {\r\n                return false\r\n            }\r\n        })\r\n        return super.onCreateOptionsMenu(menu)","width":540,"height":240,"type":"Блок","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1},{"x":400,"y":-340,"text":"titleTextView, recyclerView, adapter","width":240,"height":40,"type":"Ввод / вывод","isMenuBlock":false,"fontSize":14,"textHeight":14,"isBold":false,"isItalic":false,"textAlign":"center","labelsPosition":1}],"arrows":[{"startIndex":0,"endIndex":17,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":400,"y":-385},{"x":400,"y":-380},{"x":400,"y":-360}],"counts":[1,1,1]},{"startIndex":17,"endIndex":1,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":400,"y":-320},{"x":400,"y":-260},{"x":190,"y":-260},{"x":190,"y":-240}],"counts":[1,1,1,1]},{"startIndex":1,"endIndex":4,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":190,"y":-200},{"x":190,"y":-190},{"x":120,"y":-190},{"x":120,"y":-170}],"counts":[1,1,1,1]},{"startIndex":17,"endIndex":3,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":400,"y":-320},{"x":400,"y":-250},{"x":580,"y":-250},{"x":580,"y":-240}],"counts":[1,1,1,1]},{"startIndex":3,"endIndex":2,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":580,"y":-200},{"x":580,"y":-190},{"x":580,"y":-170}],"counts":[1,1,1]},{"startIndex":2,"endIndex":5,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":580,"y":-130},{"x":580,"y":-130},{"x":580,"y":-110}],"counts":[1,1,1]},{"startIndex":5,"endIndex":6,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":580,"y":-70},{"x":580,"y":-70},{"x":580,"y":-50}],"counts":[1,1,1]},{"startIndex":6,"endIndex":9,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":580,"y":-10},{"x":580,"y":-10},{"x":580,"y":10}],"counts":[1,1,1]},{"startIndex":9,"endIndex":7,"startConnectorIndex":1,"endConnectorIndex":0,"nodes":[{"x":670,"y":40},{"x":740,"y":40},{"x":740,"y":60},{"x":740,"y":80}],"counts":[1,1,1,1]},{"startIndex":7,"endIndex":8,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":740,"y":120},{"x":740,"y":120},{"x":740,"y":140}],"counts":[1,1,1]},{"startIndex":8,"endIndex":14,"startConnectorIndex":1,"endConnectorIndex":0,"nodes":[{"x":830,"y":160},{"x":930,"y":160},{"x":930,"y":180},{"x":930,"y":200}],"counts":[1,1,1,1]},{"startIndex":8,"endIndex":11,"startConnectorIndex":3,"endConnectorIndex":0,"nodes":[{"x":650,"y":160},{"x":600,"y":160},{"x":600,"y":190},{"x":600,"y":210}],"counts":[1,1,1,1]},{"startIndex":9,"endIndex":10,"startConnectorIndex":3,"endConnectorIndex":0,"nodes":[{"x":490,"y":40},{"x":380,"y":40},{"x":380,"y":90},{"x":390,"y":90},{"x":390,"y":100}],"counts":[1,1,1,1,1]},{"startIndex":10,"endIndex":12,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":390,"y":140},{"x":390,"y":290},{"x":680,"y":290},{"x":680,"y":310}],"counts":[1,1,1,1]},{"startIndex":11,"endIndex":12,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":600,"y":250},{"x":600,"y":290},{"x":680,"y":290},{"x":680,"y":310}],"counts":[1,1,1,1]},{"startIndex":14,"endIndex":12,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":930,"y":260},{"x":930,"y":290},{"x":680,"y":290},{"x":680,"y":310}],"counts":[1,1,1,1]},{"startIndex":12,"endIndex":13,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":680,"y":350},{"x":680,"y":350},{"x":680,"y":370}],"counts":[1,1,1]},{"startIndex":15,"endIndex":16,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":1130,"y":-210},{"x":1130,"y":-200},{"x":1130,"y":-180}],"counts":[1,1,1]},{"startIndex":17,"endIndex":15,"startConnectorIndex":2,"endConnectorIndex":0,"nodes":[{"x":400,"y":-320},{"x":400,"y":-270},{"x":1130,"y":-270},{"x":1130,"y":-250}],"counts":[1,1,1,1]}],"x0":33,"y0":549}